rules:

- rule: Saludo simple
  steps:
    - intent: saludo
    - action: utter_saludo

- rule: Info servicio
  steps:
    - intent: pregunta_servicio
    - action: utter_info_servicio

- rule: Inicio de bloqueo - autenticación
  steps:
    - intent: bloquear_tarjeta
    #- action: action_reset_bloqueo_slots
    - action: autenticacion_form
    - active_loop: autenticacion_form

- rule: Finalizar autenticación y mostrar tarjetas
  condition:
    - active_loop: autenticacion_form
  steps:
    - action: autenticacion_form
    - active_loop: null
    - action: action_mostrar_tarjetas

- rule: Seleccionar tarjeta para bloqueo
  condition:
    - active_loop: seleccionar_tarjeta_form
  steps:
    - action: seleccionar_tarjeta_form
    - active_loop: null
    - action: action_procesar_bloqueo
