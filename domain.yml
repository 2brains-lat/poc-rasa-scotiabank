version: "3.1"

intents:
  - saludo
#  - despedida
  - pregunta_servicio
  - bloquear_tarjeta
  - pregunta_uf
  - pregunta_hora
#  - inform


responses:
  utter_saludo:
    - text: "Â¡Hola! Â¿En quÃ© puedo ayudarte?"
  utter_despedida:
    - text: "Hasta luego ðŸ‘‹"
  utter_info_servicio:
    - text: "Ofrecemos soporte tÃ©cnico, ventas y consultas generales."
  utter_ask_rut:
    - text: "Por favor, ingresa tu RUT (formato 12.345.678-9):"
  utter_ask_password:
    - text: "Ingresa tu contraseÃ±a (4 dÃ­gitos):"
  utter_ask_tarjeta:
    - text: "Â¿CuÃ¡l de estas tarjetas deseas bloquear? Ingresa el nÃºmero exacto."
  utter_invalid_rut:
    - text: "El RUT ingresado no es vÃ¡lido. Intenta nuevamente."
  utter_invalid_password:
    - text: "La contraseÃ±a debe tener exactamente 4 dÃ­gitos."
  utter_invalid_card_selection:
    - text: "No reconocÃ­ esa tarjeta. Por favor, elige una de la lista mostrada."


actions:
  - action_dar_hora
  - action_consultar_uf
  - validate_bloquear_tarjeta_form
  - action_procesar_bloqueo

slots:
  rut:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
        conditions:
          - active_loop: bloquear_tarjeta_form
            requested_slot: rut

  password:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
        conditions:
          - active_loop: bloquear_tarjeta_form
            requested_slot: password

forms:
  bloquear_tarjeta_form:
    required_slots:
      - rut
      - password

